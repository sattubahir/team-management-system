const plugin=require("tailwindcss/plugin"),merge=require("lodash.merge"),castArray=require("lodash.castarray"),styles=require("./styles"),{commonTrailingPseudos:commonTrailingPseudos}=require("./utils"),computed={};function inWhere(e,{className:r,modifier:s,prefix:t}){let i=t(`.not-${r}`).slice(1),a=e.startsWith(">")?("DEFAULT"===s?`.${r}`:`.${r}-${s}`)+" ":"",[o,c]=commonTrailingPseudos(e);return o?`:where(${a}${c}):not(:where([class~="${i}"],[class~="${i}"] *))${o}`:`:where(${a}${e}):not(:where([class~="${i}"],[class~="${i}"] *))`}function isObject(e){return"object"==typeof e&&null!==e}function configToCss(e={},{target:r,className:s,modifier:t,prefix:i}){function a(e,o){return"legacy"===r||Array.isArray(o)?[e,o]:isObject(o)?Object.values(o).some(isObject)?[inWhere(e,{className:s,modifier:t,prefix:i}),o,Object.fromEntries(Object.entries(o).map((([e,r])=>a(e,r))))]:[inWhere(e,{className:s,modifier:t,prefix:i}),o]:[e,o]}return Object.fromEntries(Object.entries(merge({},...Object.keys(e).filter((e=>computed[e])).map((r=>computed[r](e[r]))),...castArray(e.css||{}))).map((([e,r])=>a(e,r))))}module.exports=plugin.withOptions((({className:e="prose",target:r="modern"}={})=>function({addVariant:s,addComponents:t,theme:i,prefix:a}){let o=i("typography"),c={className:e,prefix:a};for(let[t,...i]of[["headings","h1","h2","h3","h4","h5","h6","th"],["h1"],["h2"],["h3"],["h4"],["h5"],["h6"],["p"],["a"],["blockquote"],["figure"],["figcaption"],["strong"],["em"],["kbd"],["code"],["pre"],["ol"],["ul"],["li"],["table"],["thead"],["tr"],["th"],["td"],["img"],["video"],["hr"],["lead",'[class~="lead"]']]){i=0===i.length?[t]:i;let a="legacy"===r?i.map((e=>`& ${e}`)):i.join(", ");s(`${e}-${t}`,"legacy"===r?a:`& :is(${inWhere(a,c)})`)}t(Object.keys(o).map((s=>({["DEFAULT"===s?`.${e}`:`.${e}-${s}`]:configToCss(o[s],{target:r,className:e,modifier:s,prefix:a})}))))}),(()=>({theme:{typography:styles}})));