const MAX_TOASTS=5,DEFAULT_DURATION=5e3,TOAST_CONTAINER_ID="toast-container",ICONS={success:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l5 5l10 -10" /></svg>',error:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-alert-circle" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" /><path d="M12 8v4" /><path d="M12 16h.01" /></svg>',info:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-info-circle" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" /><path d="M12 9h.01" /><path d="M11 12h1v4h1" /></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg>'};function getOrCreateToastContainer(){let e=document.getElementById("toast-container");return e||(e=document.createElement("div"),e.id="toast-container",e.className="fixed top-4 right-4 z-[100] flex flex-col items-end gap-3",document.body.appendChild(e)),e}function removeToast(e,t=!1){e&&!e._isRemoving&&e.parentNode&&(e._isRemoving=!0,clearTimeout(e._removeTimeoutId),e.removeEventListener("mouseenter",e._pauseHandler),e.removeEventListener("mouseleave",e._resumeHandler),t?e.remove():(e.classList.remove("opacity-100","translate-x-0"),e.classList.add("opacity-0","translate-x-full","ease-in"),e.addEventListener("transitionend",(()=>{e.parentNode&&e.remove()}),{once:!0})))}function pauseToast(e){if(e._isRemoving)return;clearTimeout(e._removeTimeoutId);const t=Date.now()-e._startTime;if(e._remainingTime=Math.max(0,e._duration-t),e._progressBar){const t=getComputedStyle(e._progressBar).width;e._progressBar.style.transition="none",e._progressBar.style.width=t}}function resumeToast(e){e._isRemoving||(e._startTime=Date.now(),e._removeTimeoutId=setTimeout((()=>{removeToast(e)}),e._remainingTime),e._progressBar&&(e._progressBar.style.transition=`width ${e._remainingTime}ms linear`,requestAnimationFrame((()=>{e._progressBar.style.width="0%"}))))}export function showToast(e,t="info",o=5e3){const n=getOrCreateToastContainer();for(;n.children.length>=5;){const e=n.firstChild;e&&removeToast(e,!0)}const r=document.createElement("div");r._duration=o,r._isRemoving=!1;let s="",a=ICONS.info,i="polite";switch(t){case"success":s="bg-green-100 text-green-800",a=ICONS.success;break;case"error":s="bg-red-100 text-red-800",a=ICONS.error,i="assertive";break;case"info":default:s="bg-blue-100 text-blue-800",a=ICONS.info;break}r.className=`relative max-w-sm w-full p-4 rounded-md shadow-lg flex items-center space-x-3 overflow-hidden transition-all duration-300 ${s}`,r.setAttribute("role","status"),r.setAttribute("aria-live",i),r.setAttribute("aria-atomic","true");const l=document.createElement("span");l.innerHTML=a,l.className="flex-shrink-0",r.appendChild(l);const c=document.createElement("span");c.textContent=e,c.className="flex-grow",r.appendChild(c);const d=document.createElement("button");d.innerHTML=ICONS.close,d.className="ml-auto flex-shrink-0 p-1 rounded-md opacity-70 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-current",d.setAttribute("aria-label","Close notification"),d.addEventListener("click",(()=>removeToast(r))),r.appendChild(d);const m=document.createElement("div");m.className="absolute bottom-0 left-0 h-1 bg-black/20",m.style.width="100%",r._progressBar=m,r.appendChild(m),r.classList.add("opacity-0","transform","translate-x-full"),n.appendChild(r),requestAnimationFrame((()=>{r.classList.remove("opacity-0","translate-x-full"),r.classList.add("opacity-100","translate-x-0","ease-out"),m.style.transition=`width ${o}ms linear`,m.style.width="0%",r._startTime=Date.now(),r._removeTimeoutId=setTimeout((()=>{removeToast(r)}),o),r._pauseHandler=()=>pauseToast(r),r._resumeHandler=()=>resumeToast(r),r.addEventListener("mouseenter",r._pauseHandler),r.addEventListener("mouseleave",r._resumeHandler)}))}